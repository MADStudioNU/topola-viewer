diff --git a/node_modules/topola/.DS_Store b/node_modules/topola/.DS_Store
new file mode 100644
index 0000000..9498e50
Binary files /dev/null and b/node_modules/topola/.DS_Store differ
diff --git a/node_modules/topola/dist/detailed-renderer.js b/node_modules/topola/dist/detailed-renderer.js
index 242d518..d364100 100644
--- a/node_modules/topola/dist/detailed-renderer.js
+++ b/node_modules/topola/dist/detailed-renderer.js
@@ -31,7 +31,7 @@ var IMAGE_WIDTH = 70;
 var IMAGE_HEIGHT = 90;
 var DETAILS_HEIGHT = 14;
 var ANIMATION_DELAY_MS = 200;
-var ANIMATION_DURATION_MS = 500;
+var ANIMATION_DURATION_MS = 400;
 var textLengthCache = new Map();
 /** Calculates the length of the given text in pixels when rendered. */
 function getLength(text, textClass) {
@@ -184,12 +184,18 @@ var DetailedRenderer = /** @class */ (function (_super) {
                 });
             }
             return result;
-        }, function (data) { return data.indi.id; });
+        }, function (data) {
+                return data.indi.id;
+            });
         var indiEnter = indiUpdate
             .enter()
             .append('g')
-            .attr('class', 'indi');
-        this.transition(indiEnter.merge(indiUpdate)).attr('transform', function (node) { return "translate(" + node.xOffset + ", " + node.yOffset + ")"; });
+            .attr('class', 'indi')
+            .attr('data-gedcom-id', function(node) {
+                return node.indi.id;
+            });
+        this.transition(indiEnter.merge(indiUpdate)).attr('transform',
+          function (node) { return "translate(" + node.xOffset + ", " + node.yOffset + ")"; });
         this.renderIndi(indiEnter, indiUpdate);
         var familyEnter = enter
             .select(function (node) {
@@ -208,7 +214,7 @@ var DetailedRenderer = /** @class */ (function (_super) {
         this.renderFamily(familyEnter, familyUpdate);
     };
     DetailedRenderer.prototype.getCss = function () {
-        return "\n.detailed text {\n  font-family: verdana, arial, sans-serif;\n  font-size: 12px;\n}\n\n.detailed .name {\n  font-weight: bold;\n}\n\n.link {\n  fill: none;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.additional-marriage {\n  stroke-dasharray: 2;\n}\n\n.detailed rect {\n  stroke: black;\n}\n\n.detailed {\n  stroke-width: 2px;\n}\n\n.detailed .details {\n  font-size: 10px;\n}\n\n.detailed .id {\n  font-size: 10px;\n  font-style: italic;\n}\n\n.detailed rect.nocolor {\n  fill: #ffffff;\n}\n\n.detailed rect.bysex {\n  fill: #eeeeee;\n}\n\n.detailed rect.bysex.male {\n  fill: #dbffff;\n}\n\n.detailed rect.bysex.female {\n  fill: #ffdbed;\n}\n\n.detailed rect.bygeneration {\n  fill: #ffffdd;\n}\n\n.generation-11 .detailed rect.bygeneration, .generation1 .detailed rect.bygeneration {\n  fill: #edffdb;\n}\n\n.generation-10 .detailed rect.bygeneration, .generation2 .detailed rect.bygeneration {\n  fill: #dbffdb;\n}\n\n.generation-9 .detailed rect.bygeneration, .generation3 .detailed rect.bygeneration {\n  fill: #dbffed;\n}\n\n.generation-8 .detailed rect.bygeneration, .generation4 .detailed rect.bygeneration {\n  fill: #dbffff;\n}\n\n.generation-7 .detailed rect.bygeneration, .generation5 .detailed rect.bygeneration {\n  fill: #dbedff;\n}\n\n.generation-6 .detailed rect.bygeneration, .generation6 .detailed rect.bygeneration {\n  fill: #dbdbff;\n}\n\n.generation-5 .detailed rect.bygeneration, .generation7 .detailed rect.bygeneration {\n  fill: #eddbff;\n}\n\n.generation-4 .detailed rect.bygeneration, .generation8 .detailed rect.bygeneration {\n  fill: #ffdbff;\n}\n\n.generation-3 .detailed rect.bygeneration, .generation9 .detailed rect.bygeneration {\n  fill: #ffdbed;\n}\n\n.generation-2 .detailed rect.bygeneration, .generation10 .detailed rect.bygeneration {\n  fill: #ffdbdb;\n}\n\n.generation-1 .detailed rect.bygeneration, .generation11 .detailed rect.bygeneration {\n  fill: #ffeddb;\n}";
+        return "\n.detailed text {\n  font-family: verdana, arial, sans-serif;\n  font-size: 12px;\n}\n\n.detailed .name {\n  font-weight: bold;\n}\n\n.link {\n  fill: none;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.additional-marriage {\n  stroke-dasharray: 2;\n}\n\n.detailed rect {\n  stroke: black;\n}\n\n.detailed {\n  stroke-width: 2px;\n}\n\n.detailed .details {\n  font-size: 10px;\n}\n\n.detailed .id {\n  font-size: 10px;\n  font-style: italic;\n}\n\n.detailed rect.nocolor {\n  fill: #ffffff;\n}\n\n.detailed rect.bysex {\n  fill: #eeeeee;\n}\n\n.detailed rect.bysex.male {\n  fill: #dbffff;\n}\n\n.detailed rect.bysex.female {\n  fill: #ffdbed;\n}\n\n.detailed rect.bygeneration {\n  fill: #ffffdd;\n}\n\n.generation-11 .detailed rect.bygeneration, .generation1 .detailed rect.bygeneration {\n  fill: #edffdb;\n}\n\n.generation-10 .detailed rect.bygeneration, .generation2 .detailed rect.bygeneration {\n  fill: #dbffdb;\n}\n\n.generation-9 .detailed rect.bygeneration, .generation3 .detailed rect.bygeneration {\n  fill: #dbffed;\n}\n\n.generation-8 .detailed rect.bygeneration, .generation4 .detailed rect.bygeneration {\n  fill: #dbffff;\n}\n\n.generation-7 .detailed rect.bygeneration, .generation5 .detailed rect.bygeneration {\n  fill: #dbedff;\n}\n\n.generation-6 .detailed rect.bygeneration, .generation6 .detailed rect.bygeneration {\n  fill: #dbdbff;\n}\n\n.generation-5 .detailed rect.bygeneration, .generation7 .detailed rect.bygeneration {\n  fill: #eddbff;\n}\n\n.generation-4 .detailed rect.bygeneration, .generation8 .detailed rect.bygeneration {\n  fill: #ffdbff;\n}\n\n.generation-3 .detailed rect.bygeneration, .generation9 .detailed rect.bygeneration {\n  fill: tomato;\n}\n\n.generation-2 .detailed rect.bygeneration, .generation10 .detailed rect.bygeneration {\n  fill: #ffdbdb;\n}\n\n.generation-1 .detailed rect.bygeneration, .generation11 .detailed rect.bygeneration {\n  fill: #ffeddb;\n}";
     };
     DetailedRenderer.prototype.transition = function (selection) {
         return this.options.animate
@@ -264,22 +270,27 @@ var DetailedRenderer = /** @class */ (function (_super) {
         this.transition(background)
             .attr('width', function (node) { return node.indi.width; })
             .attr('height', function (node) { return node.indi.height; });
+
         // Clip path.
         var getClipId = function (id) { return "clip-" + id; };
         enter
             .append('clipPath')
             .attr('id', function (node) { return getClipId(node.indi.id); })
             .append('rect')
-            .attr('rx', 5)
+            .attr('rx', IMAGE_WIDTH / 2)
+            .attr('ry', IMAGE_WIDTH / 2)
             .merge(update.select('clipPath rect'))
-            .attr('width', function (node) { return node.indi.width; })
-            .attr('height', function (node) { return node.indi.height; });
+            // .attr('width', function (node) { return node.indi.width; })
+            // .attr('height', function (node) { return node.indi.height; });
+            .attr('width', function (node) { return IMAGE_WIDTH; })
+            .attr('height', function (node) { return IMAGE_WIDTH; });
         var getIndi = function (data) {
             return _this.options.data.getIndi(data.indi.id);
         };
         var getDetailsWidth = function (data) {
             return data.indi.width - (getIndi(data).getImageUrl() ? IMAGE_WIDTH : 0);
         };
+
         // Name.
         enter
             .append('text')
@@ -346,7 +357,9 @@ var DetailedRenderer = /** @class */ (function (_super) {
             .attr('width', IMAGE_WIDTH)
             .attr('height', function (data) { return data.indi.height; })
             .attr('preserveAspectRatio', 'xMidYMin')
-            .attr('transform', function (data) { return "translate(" + (data.indi.width - IMAGE_WIDTH) + ", 0)"; })
+            .attr('transform', function (data) {
+                return "translate(" + (data.indi.width - IMAGE_WIDTH - 6) + ", " + (data.indi.height - IMAGE_WIDTH) / 2 + ")";
+            })
             .attr('clip-path', function (data) { return "url(#" + getClipId(data.indi.id) + ")"; })
             .attr('href', function (data) { return getIndi(data).getImageUrl(); });
         // Border on top.
